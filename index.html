<!DOCTYPE html>
<html>
<head>
	<title>USA Tree Distribution Visualization</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="./css/leaflet.css" />
	<link rel="stylesheet" href="./css/main.css" />
</head>

<body>
	<div id="info">
		<div id="infoHeader">
			USA Tree Distribution
			<div class="helpButton">
				<a id="helpButton" onclick="showHelp()">&nbsp; ? &nbsp;</a>
			</div>
		</div>
		<div id="help">
			<p>This is a visualization of the distribution of tree species across the United States.</p>
			<p>Regions are colored according to the number and uniqueness of tree species they contain. Darker regions have more trees, and bluer regions have more unique trees (trees that are found in fewer locations).</p>
			<p>Click on a region to display the trees it contains, sorted by uniqueness. Click on 'show' next to each tree to view that species range on the map.</p>
			<p>Use the links in the map legend to explore different regions of the country. Make sure to click twice to load these regional maps.</p>
			<p><a href="https://github.com/nsrivast/tree-range-viz">See how this visualization was made</a></p>
			<p><a href="analysis.html">Read an analysis of the results</a></p>
		</div>
		
		<div id="locationPreview">Hover over regions to show data</div>
		<div id="treeTableDiv">
			<div id="treeTableHeader">Click on a region for a list of trees</div>
			<table id="treeTable" class="mytable"></table>
		</div>		
	</div>
	<div id="mapContainer">
		<div id="map"></div>
	</div>
	
	<script src="./js/leaflet.js"></script>
	<script src="./js/jquery-1.11.2.min.js"></script>
	<script type="text/javascript" src="./data_locs/states.js"></script>
	<script type="text/javascript" src="./js/viz.js"></script>
	
	<script type="text/javascript">
	  function reloadJs(src) {
      $('script[src="./js/viz.js"]').remove();
      $('<script>').attr('src', src).appendTo('head');
    }
		
    function loadRegion(region) {
      destroyMap();
      $.getScript("./data_locs/" + region + ".js");
      reloadJs('./js/viz.js');
    };
		
		function showHelp() {
			document.getElementById('help').setAttribute('style', 'display:block;');
			document.getElementById('helpButton').setAttribute('onclick', 'hideHelp()');			
		}
				
		function hideHelp() {
			document.getElementById('help').setAttribute('style', 'display:none;');
			document.getElementById('helpButton').setAttribute('onclick', 'showHelp()');			
		};
		
	</script>
	
	</body>
</html>
